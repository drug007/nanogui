### Решаемые задачи

Обход членов структуры данных произвольной сложности (с допустимыми ограничениями). Порядок обхода определяется:
- внешними условиями, заданными при начале обхода и неизменяющиеся во время обхода
- типом данных конкретного члена структуры данных
- аттрибутами конкретного члена структуры данных

Для структуры данных формируется модель. Модель содержит метаинформацию, необходимую для обхода эффективного структуры данных. Обход осуществляется с помощью визитора.

### Варианты обхода

По умолчанию структура данных представляется в виде дерева. Корнем дерева является сама структура - ее тип и атрибуты. Члены структуры формируют узлы и листья дерева. Агрегатные типы и массивы/ренжи формируют узлы, встроенные типы формируют листья. Агрегатные типы могут при необходимости формировать листья, равно как встроенные типы формировать узлы (просто в большинстве случае бессмысленно формировать поддерево из поля типа int - в нем просто нет каких-либо данных, разве что поле просто seed для генератора случайных чисел и остальные данные генерируются).

Узлы обходятся в глубину (неинформированный поиск с помощью рекурсивной функции, возможно наличие предела на глубину рекурсии), при этом есть доступ к непосредственному родительскому узлу (к остальным родительским узлам доступ не гарантируется). Каждый узел должен определять (через тип или атрибут):
- направление обхода (требуется только для узлов, включая корень дерева): горизонтально или вертикально
- размер узла в его направлении обхода (включая всех его потомков)

Первоначально известен размер только листьев. Для расчета размеров узлов может осуществлятся отдельный обход.

Обход подразумевает 2D пространство, размер в одном измерении задается членом структуры данных, второе измерение для корня задается при начале обхода, для остальных формируется в родительском узле. В каждом измерении обход может осуществлятся по возрастанию (от первого члена к последнему), так и наоборот. Члены структуры данных отображаются в двумерной пространство в виде соприкасающихся плиток, каждый член отождествляется с единственной плиткой, плитки потомков полностью содержатся внутри плитки родительского узла. Пересечение плиток невозможно.

Критериями обхода в общем случае являются размеры окна (его начальная позиция и размеры), текущее состояние визитора (его текущее положение) и обходимой структурой данных (ее размером и размером ее членов). Если текущее положение визитора находится внутри текущего окна, то обход начинается и завершается когда текущее положение визитора покинет текущее окно по всем измерениям (возможна ситуация когда при обходе в некоторых узлах/листьях визитор выйдет за пределы окна в одном измерении, это не означает что нет других узлов, при обходе которых визитор останется внутри окна, поэтому обход должен быть исчерпывающим. Если в текущем измерение текущее окно было покинуто, то произходит возврат к родительскому узлу, имеющему другое измерение обхода и обход продолжается со следующего потомка данного узла и так пока не будут посещены все потомки исходного дерева)

Члены структуры индексированы и имеют tree path, который уникально идентифицирует каждого члена структуры. Обход структуры возможен с любого члена структуры, при этом допустимы накладные расходы на поиск данного типа - т.е. первоначально осуществляется обход структуры с целью найти заданный член, а затем обход с конечно целью (например, подсчет размера или непосредственно рендеринг)

На время обхода структура данных и ее модель считаются константными, изменяется только текущее состояние визитора. При необходимости изменения структуры данных во время обхода только собирается информация, необходимая для изменения и непосредственно изменение осуществляется после обхода.